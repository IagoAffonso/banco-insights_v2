# 🏦 Banco Insights 2.0 - Exploratory Data Analysis

This folder contains comprehensive exploratory data analysis for the Banco Insights 2.0 project, focusing on understanding the BACEN (Central Bank of Brazil) financial institutions data.

## 📁 Contents

### 📊 Main Analysis
- **`comprehensive_eda.ipynb`** - Complete EDA notebook with:
  - Data structure analysis for all CSV files
  - Column types, data types, and business meanings
  - Sample data preview (first 10 rows)
  - Categorical variables analysis
  - Identifier and foreign key detection
  - Numerical variables statistics
  - Data quality assessment
  - Generated data dictionary

### 📋 Generated Outputs
When you run the notebook, it will generate:
- **`banco_insights_data_dictionary.json`** - Complete data dictionary
- **`banco_insights_columns_summary.csv`** - Column summary table

## 🎯 Objective

The EDA aims to understand:
- **Column names and data types** across all datasets
- **Categorical vs numerical variables** classification
- **Foreign keys and identifiers** for database design
- **Categorical values** and their business meanings
- **Data quality** and completeness assessment
- **Sample data** structure and patterns

## 📊 Data Sources Analyzed

The analysis covers the main consolidated datasets:
- `consolidated_cleaned.csv`
- `consolidated_reports.csv`
- `financial_metrics.csv`
- `financial_metrics_processed.csv`
- `market_metrics.csv`
- `credit_data.csv`
- `cred_pf.csv` (Credit - Individual Persons)
- `cred_pj.csv` (Credit - Legal Entities)

## 🔑 Key Identifiers Discovered

- **`CodInst`** - Institution Code (Primary identifier)
- **`NomeInstituicao`** - Institution Name
- **`AnoMes`** - Date (YYYYMM format)
- **`TipoInstituicao`** - Institution Type
- **`NumeroRelatorio`** - Report Number
- **`NomeRelatorio`** - Report Name

## 💼 Business Categories Identified

1. **Financial Amounts**: Columns with `Saldo`, `Valor`, `Carteira`
2. **Identifiers**: Columns with `Cod`, `Codigo`, `ID`
3. **Names/Descriptions**: Columns with `Nome`, `Descricao`
4. **Classifications**: Columns with `Tipo`, `Grupo`
5. **Date/Time**: Columns with `AnoMes`, `Data`

## 🚀 Usage Instructions

1. **Environment Setup**:
   ```bash
   cd banco-insights-2.0/EDA
   pip install pandas numpy pathlib json warnings
   ```

2. **Run the Analysis**:
   ```bash
   jupyter notebook comprehensive_eda.ipynb
   ```

3. **Execute All Cells** to generate:
   - Complete data analysis
   - Data dictionary JSON file
   - Column summary CSV

## ⚠️ Important Notes

- **Large File Safety**: The notebook uses sample-based analysis (10K rows max) to avoid memory issues
- **No Raw File Opening**: Raw quarterly files are not opened to prevent performance issues
- **Smart Loading**: Only consolidated files are analyzed for efficiency
- **Type-Safe Operations**: All data type conversions are handled safely

## 📈 Key Findings

1. **Rich Time Series Data**: Quarterly data from 2013-2024
2. **Institution Coverage**: 2,000+ financial institutions
3. **Multiple Report Types**: Various BACEN report categories
4. **Clean Data Structure**: Well-organized with consistent identifiers
5. **Ready for Analysis**: Suitable for market share, benchmarking, and trend analysis

## 🔧 Technical Specifications

- **Python Libraries**: pandas, numpy, pathlib, json
- **Memory Efficient**: Sample-based analysis approach
- **JSON Export**: Clean data dictionary with type conversion
- **CSV Summary**: Simplified column overview table

## 📋 Next Steps

Use the generated data dictionary to:
1. Design Supabase database schema
2. Create data processing pipelines
3. Build React frontend components
4. Develop FastAPI endpoints
5. Implement core visualizations

---

**Generated by**: Banco Insights 2.0 EDA Analysis  
**Purpose**: Support v2.0 development with comprehensive data understanding